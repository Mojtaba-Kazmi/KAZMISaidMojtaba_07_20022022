{"version":3,"sources":["connexionDatabase2.js"],"names":["mysql","require","util","makeDb","config","connection","createConnection","query","sql","args","promisify","call","close","end","module","exports","host","process","env","DB_HOST","user","DB_USER","password","DB_PASS","database","DB_NAME"],"mappings":";;AAAA,IAAMA,KAAK,GAAGC,OAAO,CAAC,QAAD,CAArB;;AACA,IAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AAEA,SAASE,MAAT,CAAgBC,MAAhB,EAAwB;AACpB,MAAMC,UAAU,GAAGL,KAAK,CAACM,gBAAN,CAAuBF,MAAvB,CAAnB;AACA,SAAO;AACHG,IAAAA,KADG,iBACGC,GADH,EACQC,IADR,EACc;AACb,aAAOP,IAAI,CAACQ,SAAL,CAAeL,UAAU,CAACE,KAA1B,EACFI,IADE,CACGN,UADH,EACeG,GADf,EACoBC,IADpB,CAAP;AAEH,KAJE;AAKHG,IAAAA,KALG,mBAKK;AACJ,aAAOV,IAAI,CAACQ,SAAL,CAAeL,UAAU,CAACQ,GAA1B,EAA+BF,IAA/B,CAAoCN,UAApC,CAAP;AACH;AAPE,GAAP;AASH;;AAEDS,MAAM,CAACC,OAAP,GAAiBZ,MAAM,CAAC;AACpBa,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,OADE;AAEpBC,EAAAA,IAAI,EAAEH,OAAO,CAACC,GAAR,CAAYG,OAFE;AAGpBC,EAAAA,QAAQ,EAAEL,OAAO,CAACC,GAAR,CAAYK,OAHF;AAIpBC,EAAAA,QAAQ,EAAEP,OAAO,CAACC,GAAR,CAAYO;AAJF,CAAD,CAAvB","sourcesContent":["const mysql = require('mysql2');\nconst util = require('util');\n\nfunction makeDb(config) {\n    const connection = mysql.createConnection(config);\n    return {\n        query(sql, args) {\n            return util.promisify(connection.query)\n                .call(connection, sql, args);\n        },\n        close() {\n            return util.promisify(connection.end).call(connection);\n        }\n    };\n}\n\nmodule.exports = makeDb({\n    host: process.env.DB_HOST,\n    user: process.env.DB_USER,\n    password: process.env.DB_PASS,\n    database: process.env.DB_NAME\n});"],"file":"connexionDatabase2.dev.js"}